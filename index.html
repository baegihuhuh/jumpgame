<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <title>ì í”„ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ã…¡ê·¸ã…¡ã…”ã…”ã…”ì—ã…£ã…</title>
    <style>
        canvas {
            display: block;
            margin: 0 auto;       /* í™”ë©´ ê°€ìš´ë° ì •ë ¬ */
            width: 95vw;          /* ëª¨ë°”ì¼ì—ì„œ í™”ë©´ ë„ˆë¹„ì˜ 95% ì‚¬ìš© */
            max-width: 600px;     /* PCì—ì„œ ë„ˆë¬´ ì»¤ì§€ì§€ ì•Šê²Œ ìµœëŒ€ 600pxë¡œ ì œí•œ */
            height: auto;         /* ê°€ë¡œ ì„¸ë¡œ ë¹„ìœ¨ ìœ ì§€ */
            touch-action: none;   /* í„°ì¹˜ ì‹œ í™”ë©´ì´ ë°€ë¦¬ëŠ” í˜„ìƒ ë°©ì§€ */
            border: 2px solid #000; /*  ìº”ë²„ìŠ¤ í…Œë‘ë¦¬ í™•ì¸ìš© */
        }
        body { text-align: center; font-family: 'Arial', sans-serif; background-color: #f0f0f0; margin: 0; padding-top: 50px; }
        canvas { background-color: white;
        background-image: url('background.png');
         border-bottom: 5px solid #333; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .score { font-size: 30px; font-weight: bold; color: #333; margin: 20px; }
    </style>
</head>
<body>

    <div class="score">ì ìˆ˜: <span id="scoreText">0</span>
    ìµœê³ ì ìˆ˜: <span id="bestScoreText">0</span></div>
    <button id="pauseBtn" style="margin-left: 200px;">ì •ì§€</button>
    <canvas id="gameCanvas" width="800" height="200"></canvas>
    <p><b>[ìŠ¤í˜ì´ìŠ¤ë°”]</b>ë¥¼ ëˆ„ë¥´ë©´ ì í”„í•¨</p>

    <script>
        function update() {
    // [ì´ ì½”ë“œê°€ ë°˜ë“œì‹œ ë§¨ ìœ„ì— ì™€ì•¼ í•©ë‹ˆë‹¤!]
    if (isPaused) {
        return; // ì •ì§€ ìƒíƒœë©´ ì—¬ê¸°ì„œ ë°”ë¡œ í•¨ìˆ˜ ì¢…ë£Œ (í‡´ê·¼!)
    }

    // --- ì—¬ê¸°ì„œë¶€í„°ëŠ” ê¸°ì¡´ ì½”ë“œ ---
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // ìºë¦­í„° ì´ë™, ì¥ì• ë¬¼ ì´ë™, ê·¸ë¦¬ê¸° ì½”ë“œë“¤...
    
 if (!isPaused) {
        animationId = requestAnimationFrame(update);
    }
}
        // 1. ê²Œì„ì´ ë©ˆì·„ëŠ”ì§€ í™•ì¸í•  ìŠ¤ìœ„ì¹˜ (ì²˜ìŒì—” ì•ˆ ë©ˆì·„ìœ¼ë‹ˆê¹Œ false)
let isPaused = false; 
let animationId;

pauseBtn.addEventListener('click', () => {
    isPaused = !isPaused; 
    pauseBtn.blur(); //ë²„íŠ¼ í´ë¦­í›„ í¬ì»¤ìŠ¤ ì—†ì• ëŠ”ê±° - ìŠ¤í˜ì´ìŠ¤ë°” ëˆŒëŸ¬ë„ ì•ˆë©ˆì¶¤

    if (isPaused) {
        pauseBtn.innerText = "ì¬ê°œ";
        // ì •ì§€ ì‹œ: ì˜ˆì•½ëœ ë‹¤ìŒ í”„ë ˆì„ì„ ì·¨ì†Œí•¨
        cancelAnimationFrame(animationId); 
    } else {
        pauseBtn.innerText = "ì •ì§€";
        // ì¬ê°œ ì‹œ: ê¸°ì¡´ ì—”ì§„ì„ í™•ì‹¤íˆ ë„ê³  ë”± í•˜ë‚˜ë§Œ ìƒˆë¡œ ì‹¤í–‰
        cancelAnimationFrame(animationId); 
        update(); 
    }
});
;
    

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreText = document.getElementById('scoreText');
const playerImg = new Image(); //ì„¤ìœ¤ì‚¬ì§„ ì´ë¯¸ì§€.
playerImg.src = 'character.png'; // ì„¤ìœ¤ì‚¬ì§„
const obstacleImg = new Image();
obstacleImg.src = 'character2.png';  //ì¥ì• ë¬¼
        // --- ê²Œì„ ì—”ì§„ ë³€ìˆ˜ ---
        let score = 0;
let isJumping = false;
let jumpVelocity = 0;
const gravity = 0.38;

// 1. ëª¨ë°”ì¼ì¸ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ (ì—¬ê¸°ì— ì¶”ê°€)
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

// 2. ê¸°ê¸°ì— ë”°ë¼ ì†ë„ ë‹¤ë¥´ê²Œ ì„¤ì • (ì—¬ê¸°ì— ì¶”ê°€)
let gameSpeed = isMobile ? 5 : 3;

        // ğŸ¦– ì£¼ì¸ê³µ (ì„¤ìœ¤)
        const player = {
            x: 50,
            y: 125,
            width: 60,
            height: 85,
           draw() {
    // ê¸°ì¡´ ì‚¬ê°í˜• ê·¸ë¦¬ê¸° ëŒ€ì‹  ì•„ë˜ ì½”ë“œ í•œ ì¤„ë¡œ êµì²´!
    ctx.drawImage(playerImg, this.x, this.y, this.width, this.height);
}
            }


        // ğŸŒµ ì¥ì• ë¬¼
        const obstacle = {
            x: 800,
            y: 145,
            width: 40,
            height: 60,
            draw() {
                ctx.fillStyle = '#e74c3c'; // ë¹¨ê°„ìƒ‰
                ctx.drawImage(obstacleImg, this.x, this.y, this.width, this.height);
            }
        };

        function update() {
            if (isPaused) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height); // í™”ë©´ ì´ˆê¸°í™”

            // ì í”„ ê³„ì‚°
            if (isJumping) {
                player.y -= jumpVelocity;
                jumpVelocity -= gravity;

                if (player.y >= 125) {
                    player.y = 125;
                    isJumping = false;
                }
            }

            // ì¥ì• ë¬¼ ì´ë™
            obstacle.x -= gameSpeed;
            if (obstacle.x < -30) {
                obstacle.x = 800;
                score++;
                scoreText.innerText = score;
                gameSpeed += 0.05;   // ì¥ì• ë¬¼ í•˜ë‚˜ í”¼í•  ë•Œë§ˆë‹¤ 0.05ì”© ì†ë„ ì¦ê°€
            
            }

            // ì¶©ëŒ ì²´í¬ (ì£¼ì¸ê³µ ëª¸ì²´ì™€ ì¥ì• ë¬¼ì´ ê²¹ì¹˜ë©´ ê²Œì„ì˜¤ë²„)
            if (
                obstacle.x < player.x + player.width -10 &&
                obstacle.x + obstacle.width > player.x +10 &&
                player.y + player.height > obstacle.y +10
            ) {if (score > bestScore) {
    bestScore = score;
    localStorage.setItem('bestScore', bestScore);
}
                alert("ê²Œì„ ì˜¤ë²„! ì ìˆ˜: " + score);
                score = 0;
                scoreText.innerText = score;
                document.getElementById('bestScoreText').innerText = bestScore;
                obstacle.x = 800;
                gameSpeed = 3;
            }

            player.draw();
            obstacle.draw();

            requestAnimationFrame(update); // ë‹¤ìŒ í”„ë ˆì„ ì‹¤í–‰
        }let bestScore = localStorage.getItem('bestScore') || 0;

        // í‚¤ ì…ë ¥ ì²˜ë¦¬
window.addEventListener('keydown', (e) => {
    if (e.code === 'Space' && !isJumping) {
        isJumping = true;
        jumpVelocity = 18; // ì í”„ í˜ (í´ìˆ˜ë¡ ë†’ì´ ëœ€)
    }
});
window.addEventListener('touchstart', (e) => {
    if (!isJumping) {
        isJumping = true;
        jumpVelocity = 18; // í‚¤ë³´ë“œ ì í”„ í˜ê³¼ ë˜‘ê°™ì´ ì„¤ì •
    }
});

        update(); // ê²Œì„ ì‹œì‘
    </script>
</body>
</html>